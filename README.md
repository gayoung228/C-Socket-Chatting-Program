# π’¬ Multi-Threaded Chatting Program in C

Cμ–Έμ–΄μ™€ **TCP/IP μ†μΌ“ ν”„λ΅κ·Έλλ°**μ„ ν™μ©ν•μ—¬ κµ¬ν„ν• 1:N λ©€ν‹° μ±„ν… ν”„λ΅κ·Έλ¨μ…λ‹λ‹¤. 
μ„λ²„λ” λ‹¤μ¤‘ ν΄λΌμ΄μ–ΈνΈμ μ ‘μ†μ„ λ³‘λ ¬λ΅ μ²λ¦¬ν•λ©°, ν΄λΌμ΄μ–ΈνΈλ” μ†΅/μμ‹  μ¤λ λ“λ¥Ό λ¶„λ¦¬ν•μ—¬ μ–‘λ°©ν–¥ λ™μ‹ ν†µμ‹ (Full-Duplex)μ„ μ§€μ›ν•©λ‹λ‹¤.

---
## μ‹μ—° μμƒ



---

## π›  κΈ°μ μ  νΉμ§• (Technical Points)

### 1. λ©€ν‹° μ¤λ λ“ κΈ°λ°μ λ³‘λ ¬ μ²λ¦¬ (Multithreading)
* **μ„λ²„(Server)**: μƒλ΅μ΄ ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†ν•  λ•λ§λ‹¤ `pthread_create`λ¥Ό νΈμ¶ν•μ—¬ κ°λ³„ μ¤λ λ“λ¥Ό ν• λ‹Ήν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ λ‹¤μμ μ‚¬μ©μκ°€ λ™μ‹μ— μ ‘μ†ν•΄λ„ μ§€μ—° μ—†μ΄ λ©”μ‹μ§€λ¥Ό μ£Όκ³ λ°›μ„ μ μμµλ‹λ‹¤.
* **ν΄λΌμ΄μ–ΈνΈ(Client)**: λ©”μ‹μ§€ μ…λ ¥(Send)κ³Ό λ©”μ‹μ§€ μμ‹ (Receive) λ£¨ν‹΄μ„ κ°κ° λ…λ¦½λ μ¤λ λ“λ΅ μ΄μν•©λ‹λ‹¤. μ‚¬μ©μκ°€ λ©”μ‹μ§€λ¥Ό μ…λ ¥ν•λ” λ„μ¤‘μ—λ„ λ‹¤λ¥Έ μ‚¬μ©μμ λ©”μ‹μ§€λ¥Ό μ‹¤μ‹κ°„μΌλ΅ ν™”λ©΄μ— μ¶λ ¥ν•©λ‹λ‹¤.

### 2. ν¨μ¨μ μΈ μμ› κ΄€λ¦¬
* μ„λ²„λ” μ ‘μ†λ ν΄λΌμ΄μ–ΈνΈλ“¤μ μ†μΌ“ λ””μ¤ν¬λ¦½ν„°λ¥Ό λ°°μ—΄λ΅ κ΄€λ¦¬ν•λ©°, μ„κ³„ κµ¬μ—­(Critical Section)μ—μ„μ λ™κΈ°ν™” λ¬Έμ λ¥Ό κ³ λ ¤ν•μ—¬ κµ¬ν„λμ—μµλ‹λ‹¤.
* μμƒ λ‚΄ λ΅κ·Έλ¥Ό ν†µν•΄ `rcv thread created` λ“± κ° ν”„λ΅μ„Έμ¤μ μƒμ„± λ° μ—°κ²° μƒνƒλ¥Ό μ‹¤μ‹κ°„μΌλ΅ λ¨λ‹ν„°λ§ν•  μ μλ„λ΅ μ„¤κ³„ν–μµλ‹λ‹¤.

### 3. μμ™Έ μ²λ¦¬ λ° λ³΄μ• λ³΄μ™„
* **λ¬Έμμ—΄ μ²λ¦¬**: μμƒ λ‚΄ μ»΄νμΌ κ³Όμ •μ—μ„ ν™•μΈλ `gets()` ν•¨μμ λ³΄μ• μ·¨μ•½μ (Buffer Overflow)μ„ μΈμ§€ν•κ³ , μ΄λ¥Ό `fgets()`λ΅ λ€μ²΄ν•μ—¬ μ§€μ •λ λ²„νΌ ν¬κΈ°λ§νΌλ§ μ…λ ¥λ°›λ„λ΅ μ•μ •μ„±μ„ λ†’μ€μµλ‹λ‹¤.
* **λ„¤νΈμ›ν¬ μ¤λ¥ λ€μ‘**: μ†μΌ“ μƒμ„±(`socket`), μ£Όμ† ν• λ‹Ή(`bind`), μ—°κ²° λ€κΈ°(`listen`) κ° λ‹¨κ³„μ—μ„ μμ™Έ μ²λ¦¬λ¥Ό μν–‰ν•μ—¬ μ„λ²„μ μ•μ •μ μΈ κµ¬λ™μ„ λ³΄μ¥ν•©λ‹λ‹¤.

---

## π“‚ νμΌ κµ¬μ„± λ° μ—­ν• 
* `server.c`: μ†μΌ“ μƒμ„±, λ°”μΈλ”©, λ¦¬μ¨ λ° ν΄λΌμ΄μ–ΈνΈ μ ‘μ† μλ½ λ° λ©”μ‹μ§€ λΈλ΅λ“μΊμ¤νΈ λ‹΄λ‹Ή.
* `client.c`: μ„λ²„ μ ‘μ† λ° μ†΅μμ‹  μ¤λ λ“ κ΄€λ¦¬.
* `thread.c`: λ©€ν‹° μ¤λ λ”© κ΄€λ ¨ λ΅μ§ λ° κ³µν†µ ν•¨μ ν¬ν•¨.

---

## π’» λΉλ“ λ° μ‹¤ν–‰ λ°©λ²•

### 1) μ»΄νμΌ (Compilation)
Linux ν™κ²½μ—μ„ `pthread` λΌμ΄λΈλ¬λ¦¬λ¥Ό λ§ν¬ν•μ—¬ μ»΄νμΌν•©λ‹λ‹¤.
```bash
# μ„λ²„ μ»΄νμΌ
gcc server.c -o server -lpthread

# ν΄λΌμ΄μ–ΈνΈ μ»΄νμΌ
gcc client.c -o client -lpthread
```
